
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Design principles &#8212; Computational and Inferential Thinking</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://inferentialthinking.org/chapters/03/Design_Principles.html" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-148221575-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/favicon.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Computational and Inferential Thinking</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05/Counterfactuals.html">
   1. Counterfactual predictions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/01/Activity_Estimation_I.html">
     1.1. Activity Estimation: Part I
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/02/Counterfactual_Impact.html">
     1.2. Counterfactual predictions for impact variables
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/data-8/textbook/main?urlpath=tree/chapters/03/Design_Principles.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://datahub.berkeley.edu/hub/user-redirect/git-pull?repo=https%3A//github.com/data-8/textbook&urlpath=tree/textbook/chapters/03/Design_Principles.ipynb&branch=main"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on JupyterHub"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_jupyterhub.svg">
  </span>
<span class="headerbtn__text-container">JupyterHub</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/data-8/textbook"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/chapters/03/Design_Principles.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-pipelines">
   Data Pipelines
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#counterfactual-prediction">
   Counterfactual prediction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-catalogs">
   Data catalogs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#energy-consumption-baseline-modelling-approach">
   Energy consumption baseline modelling approach
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#base-model-configuration">
   Base model configuration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#added-features">
     1. Added features
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regressors">
     2. Regressors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interactions">
     3. Interactions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parameter-values">
   Parameter values
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#putting-it-all-together">
   Putting it all together
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-command-arguments">
   Run command arguments
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Design principles</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-pipelines">
   Data Pipelines
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#counterfactual-prediction">
   Counterfactual prediction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-catalogs">
   Data catalogs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#energy-consumption-baseline-modelling-approach">
   Energy consumption baseline modelling approach
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#base-model-configuration">
   Base model configuration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#added-features">
     1. Added features
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regressors">
     2. Regressors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interactions">
     3. Interactions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parameter-values">
   Parameter values
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#putting-it-all-together">
   Putting it all together
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-command-arguments">
   Run command arguments
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="design-principles">
<h1>Design principles<a class="headerlink" href="#design-principles" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import os
import json
import pprint
import feature_encoders.settings

from omegaconf import OmegaConf
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import eensight.settings

from eensight.config import OmegaConfigLoader
from eensight.utils.jupyter import load_catalog
</pre></div>
</div>
</div>
</div>
<section id="data-pipelines">
<h2>Data Pipelines<a class="headerlink" href="#data-pipelines" title="Permalink to this headline">#</a></h2>
<p>All the functionality in <code class="docutils literal notranslate"><span class="pre">eensight</span></code> is organized around data pipelines. Each pipeline consumes data and other artifacts (such as models) produced by a previous pipeline, and produces new data and artifacts for its successor pipelines. Up to this point, there are six (6) pipelines:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Pipeline name</p></th>
<th class="text-align:left head"><p>Pipeline description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><em>preprocess</em></p></td>
<td class="text-align:left"><p>Merges (if necessary) and validates input data, identifies potential data drift, identifies potential outliers, evaluates data adequacy, and imputes missing values.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><em>daytype</em></p></td>
<td class="text-align:left"><p>Finds consumption profile prototypes and estimates a distance metric that translates calendar information (month of year and day of week) to daily or sub-daily consumption profile similarity. Prototypes are a small set of daily or sub-daily profiles that adequately summarize the available data.</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><em>baseline</em></p></td>
<td class="text-align:left"><p>Optimizes a predictive model for out-of-sample performance, fits the optimized model on the available training data, and evaluates its performance in-sample.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><em>validate</em></p></td>
<td class="text-align:left"><p>Cross-validates the optimized predictive model and builds a conformal predictor to construct uncertainty intervals.</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><em>predict</em></p></td>
<td class="text-align:left"><p>Uses the optimized predictive model and the conformal model of the previous stage to generate predictions on pre- and post-retrofit data, adding uncertainty intervals with user-provided confidence levels.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><em>compare</em></p></td>
<td class="text-align:left"><p>Estimates cumulative savings given the optimized predictive model and post-retrofit data, while adding uncertainty intervals with user-provided confidence levels.</p></td>
</tr>
</tbody>
</table>
<p>Each pipeline has up to two (2) different versions, each corresponding to one of the two (2) <strong>namespaces</strong> in <code class="docutils literal notranslate"><span class="pre">eensight</span></code>:</p>
<ul class="simple">
<li><p><strong>train</strong>: Any dataset or pipeline that exists in the <code class="docutils literal notranslate"><span class="pre">train</span></code> namespace will be used for model training and evaluation.</p></li>
<li><p><strong>apply</strong>: Any dataset or pipeline that exists in the <code class="docutils literal notranslate"><span class="pre">apply</span></code> namespace will be used for counterfactual prediction and savings estimation.</p></li>
</ul>
<p>The associations between pipelines and namespaces are summarized below:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>train</p></th>
<th class="head"><p>apply</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>preprocess</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
</tr>
<tr class="row-odd"><td><p>daytype</p></td>
<td><p>✔</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>baseline</p></td>
<td><p>✔</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>validate</p></td>
<td><p>✔</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>predict</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
</tr>
<tr class="row-odd"><td><p>compare</p></td>
<td><p></p></td>
<td><p>✔</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">eensight</span></code> is a <a class="reference external" href="https://github.com/quantumblacklabs/kedro">Kedro</a>-based application, so all pipelines are <a class="reference external" href="https://kedro.readthedocs.io/en/stable/06_nodes_and_pipelines/02_pipeline_introduction.html">Kedro pipelines</a>.</p>
</section>
<section id="counterfactual-prediction">
<h2>Counterfactual prediction<a class="headerlink" href="#counterfactual-prediction" title="Permalink to this headline">#</a></h2>
<p>When the forecast counterfactual prediction approach is selected, a predictive model is trained on the data before the energy efficiency intervention, and applied on the data after the intervention:</p>
<img src="images/forward.png" alt="catalogs" width="550"/><p>For the <code class="docutils literal notranslate"><span class="pre">eensight</span></code> user, the application of the forecast approach requires only the assignment of the available datasets to the correct namespaces. The forecast approach requires that the <code class="docutils literal notranslate"><span class="pre">train</span></code> namespace corresponds to data before the energy efficiency intervention and the <code class="docutils literal notranslate"><span class="pre">apply</span></code> namespace corresponds to data after the energy efficiency intervention.</p>
</section>
<section id="data-catalogs">
<h2>Data catalogs<a class="headerlink" href="#data-catalogs" title="Permalink to this headline">#</a></h2>
<p>All pipelines get and store their datasets, parameters and models by interacting with a <a class="reference external" href="https://kedro.readthedocs.io/en/stable/05_data/01_data_catalog.html">data catalog</a>. However, <code class="docutils literal notranslate"><span class="pre">eensight</span></code> extends and customizes the relevant functionality of Kedro so that multiple catalogs can coexist. While Kedro assumes a unique catalog for any Kedro project, <code class="docutils literal notranslate"><span class="pre">eensight</span></code> allows users to define a new catalog for each building site. The goal is to support the very common use case where M&amp;V practitioners have access to a set of CSV or Excel files for each building they want to analyze. As a result, all <code class="docutils literal notranslate"><span class="pre">eensight</span></code> commands need the name of the catalog with which they will interact.</p>
<img src="images/catalogs.png" alt="catalogs" width="550"/><p>A data catalog is a YAML file that includes:</p>
<ul>
<li><p><strong>The name of the building/site</strong></p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">site_name </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo</span><span class="w"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">eensight</span></code> assumes that the data is located at a relative path that is composed by the site name, the name of the folder according to the Kedro’s <a class="reference external" href="https://kedro.readthedocs.io/en/stable/12_faq/01_faq.html#what-is-data-engineering-convention">data engineering convention</a>, and the corresponding namespace. The root of the relative path is defined in <code class="docutils literal notranslate"><span class="pre">eensight.settings.DATA_ROOT</span></code>.</p>
<p>The root of the relative path is defined in: <code class="docutils literal notranslate"><span class="pre">eensight.settings.DATA_ROOT</span></code>.</p>
</li>
<li><p><strong>Whether or not datasets and models should be versioned</strong>. In order to enable <a class="reference external" href="https://kedro.readthedocs.io/en/stable/05_data/02_kedro_io.html#versioning">versioning</a>, you need to update the catalog file and set the versioned attribute to true.</p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">versioned </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p><strong>The location of the building</strong>. This information is used for automatically generating holiday information, if the selected model requires a “holiday” feature.</p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">location</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">country   </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Greece</span><span class="w">  </span>
<span class="w">  </span><span class="nt">province  </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"> </span>
<span class="w">  </span><span class="nt">state     </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"> </span>
</pre></div>
</div>
</li>
<li><p><strong>A map of feature names</strong>. This is a mapping between specific feature names that the <code class="docutils literal notranslate"><span class="pre">eensight</span></code> functionality expects (consumption, temperature, holiday, timestamp) and the actual names used in the available datasets</p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">rebind_names</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">consumption </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">eload</span><span class="w"></span>
<span class="w">  </span><span class="nt">temperature </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">temp</span><span class="w"> </span>
<span class="w">  </span><span class="nt">holiday     </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"> </span>
<span class="w">  </span><span class="nt">timestamp   </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dates</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>The different data sources consumed and produced by <code class="docutils literal notranslate"><span class="pre">eensight</span></code>. The information that is necessary to adequately describe a data source can be found at Kedro’s documentation: <a class="reference external" href="https://kedro.readthedocs.io/en/stable/05_data/01_data_catalog.html">https://kedro.readthedocs.io/en/stable/05_data/01_data_catalog.html</a></p>
<p>Adding the appropriate namespace at the beginning of a dataset’s name allows us to automate the process of selecting and running pipelines:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nt">train.root_input</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PartitionedDataSet</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo/01_raw/train</span><span class="w"></span>
<span class="w">    </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas.CSVDataSet</span><span class="w"></span>
<span class="w">      </span><span class="nt">load_args</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">sep</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"></span>
<span class="w">        </span><span class="nt">index_col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<span class="w">    </span><span class="nt">filename_suffix</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;.csv&#39;</span><span class="w"></span>

<span class="w">  </span><span class="nt">test.root_input</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PartitionedDataSet</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo/01_raw/test</span><span class="w"></span>
<span class="w">    </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas.CSVDataSet</span><span class="w"></span>
<span class="w">      </span><span class="nt">load_args</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">sep</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"></span>
<span class="w">        </span><span class="nt">index_col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<span class="w">    </span><span class="nt">filename_suffix</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;.csv&#39;</span><span class="w"></span>
</pre></div>
</div>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>One of the changes that <code class="docutils literal notranslate"><span class="pre">eensight</span></code> has introduced to the Kedro’s standard approach is a custom <code class="docutils literal notranslate"><span class="pre">ConfigLoader</span></code> (<code class="docutils literal notranslate"><span class="pre">eensight.config.OmegaConfigLoader</span></code>) that utilizes <a class="reference external" href="https://github.com/omry/omegaconf">OmegaConf</a> as backend. <code class="docutils literal notranslate"><span class="pre">OmegaConf</span></code> makes it easy to use <a class="reference external" href="https://omegaconf.readthedocs.io/en/latest/usage.html#variable-interpolation">variable interpolation</a> when writting the configuration files. As an example, the <code class="docutils literal notranslate"><span class="pre">globals.yaml</span></code> file contains values that can be reused in other files:</p>
<p><em>globals.yaml:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">types</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">csv      </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas.CSVDataSet</span><span class="w"></span>
<span class="w">  </span><span class="nt">json     </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">json.JSONDataSet</span><span class="w"></span>
<span class="w">  </span><span class="nt">multiple </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PartitionedDataSet</span><span class="w"></span>
<span class="w">  </span><span class="nt">pickle   </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pickle.PickleDataSet</span><span class="w"></span>

<span class="nt">folders</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">raw          </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">01_raw</span><span class="w"></span>
<span class="w">  </span><span class="nt">intermediate </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">02_intermediate</span><span class="w"></span>
<span class="w">  </span><span class="nt">primary      </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">03_primary</span><span class="w"></span>
<span class="w">  </span><span class="nt">feature      </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">04_feature</span><span class="w"></span>
<span class="w">  </span><span class="nt">model_input  </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">05_model_input</span><span class="w"></span>
<span class="w">  </span><span class="nt">model        </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">06_models</span><span class="w"></span>
<span class="w">  </span><span class="nt">model_output </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">07_model_output</span><span class="w"></span>
<span class="w">  </span><span class="nt">report       </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">08_reporting</span><span class="w"></span>
</pre></div>
</div>
<p>… and then in <em>some_catalog.yaml:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">site_name </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo</span><span class="w"></span>

<span class="nt">train.root_input</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${globals:types.multiple}</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${site_name}/${globals:folders.raw}/train</span><span class="w"></span>
<span class="w">    </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${globals:types.csv}</span><span class="w"></span>
<span class="w">      </span><span class="nt">load_args</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">sep</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"></span>
<span class="w">        </span><span class="nt">index_col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<span class="w">      </span><span class="nt">filename_suffix</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;.csv&#39;</span><span class="w"></span>
</pre></div>
</div>
<p>It is not necessary to use variable interpolation in <code class="docutils literal notranslate"><span class="pre">eensight</span></code>’s configuration files, but it simplifies the process of writting them. One could have also defined <em>some_catalog.yaml</em> as:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">site_name </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo</span><span class="w"></span>

<span class="nt">train.root_input</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PartitionedDataSet</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo/01_raw/train</span><span class="w"></span>
<span class="w">    </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas.CSVDataSet</span><span class="w"></span>
<span class="w">      </span><span class="nt">load_args</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">sep</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"></span>
<span class="w">        </span><span class="nt">index_col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<span class="w">    </span><span class="nt">filename_suffix</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;.csv&#39;</span><span class="w"></span>
</pre></div>
</div>
<p>Variable interpolation makes it also easy to define <strong>partial catalogs</strong>. Since the largest part of a catalog declares intermediate and final artifacts, users may write only the part of the catalog that corresponds to the raw input data:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">site_name </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo</span><span class="w"></span>
<span class="nt">versioned </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w">   </span>

<span class="nt">train.root_input</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PartitionedDataSet</span><span class="w"></span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo/01_raw/train</span><span class="w"></span>
<span class="w">  </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas.CSVDataSet</span><span class="w"></span>
<span class="w">    </span><span class="nt">load_args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">sep</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">index_col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<span class="w">  </span><span class="nt">filename_suffix</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;.csv&#39;</span><span class="w"></span>

<span class="nt">test.root_input</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PartitionedDataSet</span><span class="w"></span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo/01_raw/test</span><span class="w"></span>
<span class="w">  </span><span class="nt">dataset</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas.CSVDataSet</span><span class="w"></span>
<span class="w">    </span><span class="nt">load_args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">sep</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">index_col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<span class="w">  </span><span class="nt">filename_suffix</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;.csv&#39;</span><span class="w"></span>
</pre></div>
</div>
<blockquote>
<div><p><strong>Note</strong>: The <code class="docutils literal notranslate"><span class="pre">site_name</span></code> and <code class="docutils literal notranslate"><span class="pre">versioned</span></code> entries are <strong>required</strong>, whereas <code class="docutils literal notranslate"><span class="pre">location</span></code> and <code class="docutils literal notranslate"><span class="pre">rebind_names</span></code> not.</p>
</div></blockquote>
<p>All the commands or methods that have the name of the catalog as an input, have also the option to indicate whether it is partial or complete. If the catalog is partial, it is merged with the template from <code class="docutils literal notranslate"><span class="pre">eensight.settings.CONF_ROOT/base/templates/_base.yaml</span></code> and interpolated.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>base_path = os.path.join(eensight.settings.CONF_ROOT, &quot;base&quot;)

if not os.path.isabs(base_path):
    base_path = os.path.join(eensight.settings.PROJECT_PATH, base_path)
</pre></div>
</div>
</div>
</div>
<p>The demo catalog is a partial catalog:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>catalog_conf = OmegaConf.load(os.path.join(base_path, &quot;catalogs&quot;, &quot;demo&quot;, &quot;catalog.yaml&quot;))
print(json.dumps(OmegaConf.to_container(catalog_conf), indent=4))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
    &quot;site_name&quot;: &quot;demo&quot;,
    &quot;versioned&quot;: false,
    &quot;location&quot;: {
        &quot;country&quot;: &quot;Italy&quot;,
        &quot;province&quot;: null,
        &quot;state&quot;: null
    },
    &quot;rebind_names&quot;: {
        &quot;consumption&quot;: null,
        &quot;temperature&quot;: null,
        &quot;holiday&quot;: null,
        &quot;timestamp&quot;: null
    },
    &quot;train.root_input&quot;: {
        &quot;type&quot;: &quot;PartitionedDataSet&quot;,
        &quot;path&quot;: &quot;demo/01_raw/train&quot;,
        &quot;dataset&quot;: {
            &quot;type&quot;: &quot;pandas.CSVDataSet&quot;,
            &quot;load_args&quot;: {
                &quot;sep&quot;: &quot;,&quot;,
                &quot;index_col&quot;: 0
            }
        },
        &quot;filename_suffix&quot;: &quot;.csv&quot;
    },
    &quot;apply.root_input&quot;: {
        &quot;type&quot;: &quot;PartitionedDataSet&quot;,
        &quot;path&quot;: &quot;${site_name}/01_raw/apply&quot;,
        &quot;dataset&quot;: {
            &quot;type&quot;: &quot;pandas.CSVDataSet&quot;,
            &quot;load_args&quot;: {
                &quot;sep&quot;: &quot;,&quot;,
                &quot;index_col&quot;: 0
            }
        },
        &quot;filename_suffix&quot;: &quot;.csv&quot;
    }
}
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">eensight.framework.context.CustomContext</span></code> completes a partial catalog using an approach that is similar to the following:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>config_loader = OmegaConfigLoader(conf_paths=[base_path], globals_pattern=&quot;globals*&quot;)

selected_catalog = &quot;demo&quot;
catalog_is_partial = True

catalog_search = [
    f&quot;catalogs/{selected_catalog}.*&quot;,
    f&quot;catalogs/{selected_catalog}/**&quot;,
    f&quot;catalogs/**/{selected_catalog}.*&quot;,
]

if catalog_is_partial:
    catalog_search.append(&quot;templates/_base.*&quot;)

conf_catalog = config_loader.get(*catalog_search)
print(json.dumps(
            {
                key: val for key, val in conf_catalog.items() 
                if &quot;model_prediction&quot; in key
            },
         indent=4
      )
)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
    &quot;train.model_prediction&quot;: {
        &quot;type&quot;: &quot;pandas.CSVDataSet&quot;,
        &quot;filepath&quot;: &quot;demo/07_model_output/train/model_prediction.csv&quot;,
        &quot;load_args&quot;: {
            &quot;sep&quot;: &quot;,&quot;,
            &quot;index_col&quot;: 0,
            &quot;parse_dates&quot;: [
                0
            ]
        },
        &quot;save_args&quot;: {
            &quot;index&quot;: true
        },
        &quot;versioned&quot;: false
    },
    &quot;apply.model_prediction&quot;: {
        &quot;type&quot;: &quot;pandas.CSVDataSet&quot;,
        &quot;filepath&quot;: &quot;demo/07_model_output/apply/model_prediction.csv&quot;,
        &quot;load_args&quot;: {
            &quot;sep&quot;: &quot;,&quot;,
            &quot;index_col&quot;: 0,
            &quot;parse_dates&quot;: [
                0
            ]
        },
        &quot;save_args&quot;: {
            &quot;index&quot;: true
        },
        &quot;versioned&quot;: false
    }
}
</pre></div>
</div>
</div>
</div>
<p>Another way to create a data catalog is by using the command: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">eensight</span> <span class="pre">catalog</span> <span class="pre">create</span></code>. This command will guide the user through a series of questions. This is a simple approach that is meant to work for input data in the form of csv files.</p>
</section>
<section id="energy-consumption-baseline-modelling-approach">
<h2>Energy consumption baseline modelling approach<a class="headerlink" href="#energy-consumption-baseline-modelling-approach" title="Permalink to this headline">#</a></h2>
<p>Global non-linear models – such as Random Forest Trees, Gradient Boosting Trees or Neural Nets – can be very effective in terms of predicting building energy consumption. This is evident when one looks at the winning solutions of the <a class="reference external" href="https://www.kaggle.com/c/ashrae-energy-prediction">ASHRAE’s Great Energy Predictor III competition</a> hosted by Kaggle; the top five (5) approaches utilized combinations of Gradient Boosting Trees (LightGBM, CatBoost, XGBoost) and Neural Nets (feed-forward networks and convolutional networks).</p>
<p>However, interpretation and auditing of a global non-linear model is not trivial. Here, model interpretation is related to the transparency of an algorithm’s decisions, and the ability to identify what the algorithm has learned and what subset of the observations was most influential on what the algorithm learned.</p>
<p>An alternative to global non-linear models is an ensemble of local linear models. The general recipe that <code class="docutils literal notranslate"><span class="pre">eensight</span></code> uses for developing an ensemble of such models comprises the following steps:</p>
<ol class="simple">
<li><p>Select the linear base model to be used as the local estimator (i.e. the building block of the ensemble);</p></li>
<li><p>Define a way to quantify the notion of locality, i.e. when two (2) observations are close enough to be handled by the same local model;</p></li>
<li><p>Find a rule to assign all observations into neighborhoods in feature space;</p></li>
<li><p>Fit one model per neighborhood;</p></li>
<li><p>Predict using the average of all the models’ predictions. If a test data point is outside the neighborhood of a model, that model does not contribute to the prediction.</p></li>
</ol>
</section>
<section id="base-model-configuration">
<h2>Base model configuration<a class="headerlink" href="#base-model-configuration" title="Permalink to this headline">#</a></h2>
<p>The structure of the linear base model can be defined using YAML files. These files have three sections: (a) added features, (b) regressors and (c) interactions.</p>
<section id="added-features">
<h3>1. Added features<a class="headerlink" href="#added-features" title="Permalink to this headline">#</a></h3>
<p>The information in this section is passed to one of the feature generators. Most of the feature generators are provided by the <a class="reference external" href="https://github.com/hebes-io/feature-encoders"><code class="docutils literal notranslate"><span class="pre">feature-encoders</span></code> library</a>. There is extensive <a class="reference external" href="https://feature-encoders.readthedocs.io/en/latest/Tutorial_Feature_Composition.html">documentation</a> on how feature generators are defined in <code class="docutils literal notranslate"><span class="pre">feature-encoders</span></code>, and how additional feature generators can be developed.</p>
<p>As an example, to include a <a class="reference external" href="https://feature-encoders.readthedocs.io/en/latest/feature_encoders.generate.html#feature_encoders.generate.DatetimeFeatures"><code class="docutils literal notranslate"><span class="pre">feature_encoders.generate.DatetimeFeatures</span></code></a> generator in a model, one would have to add in the model YAML specification:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">add_features</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">time</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">datetime</span><span class="w"></span>
<span class="w">    </span><span class="nt">subset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">month, hourofweek</span><span class="w"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">eensight</span></code> gets the information on how to map feature generator types to the classes for input validation and creation of the corresponding generators using an approach similar to the one below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>feature_path = feature_encoders.settings.CONF_ROOT

if not os.path.isabs(feature_path):
    feature_path = os.path.join(
        feature_encoders.settings.PROJECT_PATH, feature_path
    )
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>config_loader = OmegaConfigLoader(conf_paths=[feature_path, base_path], 
                                  globals_pattern=&quot;globals*&quot;
)

conf_features = config_loader.get(
    &quot;features*&quot;, &quot;features/**&quot;, &quot;**/features*&quot;
)
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">TrendFeatures</span></code>, <code class="docutils literal notranslate"><span class="pre">DatetimeFeatures</span></code> and <code class="docutils literal notranslate"><span class="pre">CyclicalFeatures</span></code> generators are provided by <code class="docutils literal notranslate"><span class="pre">feature-encoders</span></code> (no need for a fully qualified class name), while <code class="docutils literal notranslate"><span class="pre">HolidayFeatures</span></code> and <code class="docutils literal notranslate"><span class="pre">OccupancyFeatures</span></code> are provided by <code class="docutils literal notranslate"><span class="pre">eensight.features</span></code> (fully qualified class names must be provided).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(json.dumps(conf_features, indent=4))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
    &quot;trend&quot;: {
        &quot;validate&quot;: &quot;validate.TrendSchema&quot;,
        &quot;generate&quot;: &quot;generate.TrendFeatures&quot;
    },
    &quot;datetime&quot;: {
        &quot;validate&quot;: &quot;validate.DatetimeSchema&quot;,
        &quot;generate&quot;: &quot;generate.DatetimeFeatures&quot;
    },
    &quot;cyclical&quot;: {
        &quot;validate&quot;: &quot;validate.CyclicalSchema&quot;,
        &quot;generate&quot;: &quot;generate.CyclicalFeatures&quot;
    },
    &quot;holidays&quot;: {
        &quot;validate&quot;: &quot;eensight.features.HolidaySchema&quot;,
        &quot;generate&quot;: &quot;eensight.features.HolidayFeatures&quot;
    },
    &quot;occupancy&quot;: {
        &quot;validate&quot;: &quot;eensight.features.OccupancySchema&quot;,
        &quot;generate&quot;: &quot;eensight.features.OccupancyFeatures&quot;
    }
}
</pre></div>
</div>
</div>
</div>
<p>From all the parameters under the name of a feature generator in a catalog configuration,</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">add_features</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">time</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">datetime</span><span class="w"></span>
<span class="w">    </span><span class="nt">subset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">month, hourofweek</span><span class="w"></span>
</pre></div>
</div>
<p>the <code class="docutils literal notranslate"><span class="pre">type</span></code> is used to identify the correct classes for validation and creation. The remaining are passed to the validation class and then to the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method of the creation class.</p>
</section>
<section id="regressors">
<h3>2. Regressors<a class="headerlink" href="#regressors" title="Permalink to this headline">#</a></h3>
<p>The information for each regressor includes its name, the name of the feature to encode so that to create this regressor, the type of the encoder (linear, spline or categorical), and the parameters to pass to the corresponding encoder class from <code class="docutils literal notranslate"><span class="pre">feature-encoders</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IdentityEncoder</span></code> for type linear</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SplineEncoder</span></code> for type spline</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CategoricalEncoder</span></code> for type categorical</p></li>
</ul>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">regressors</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">month</span><span class="p">:</span><span class="w">              </span><span class="c1"># name of the regressor</span><span class="w"></span>
<span class="w">    </span><span class="nt">feature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">month</span><span class="w">    </span><span class="c1"># name of the feature </span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">categorical</span><span class="w"> </span><span class="c1"># type of the encoder to apply on `feature` and create `regressor`</span><span class="w"></span>
<span class="w">    </span><span class="nt">encode_as</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">onehot</span><span class="w"> </span><span class="c1"># parameter for encoder&#39;s __init__</span><span class="w"></span>
<span class="w">    </span>
<span class="w">  </span><span class="nt">tow</span><span class="p">:</span><span class="w">                     </span><span class="c1"># name of the regressor</span><span class="w"></span>
<span class="w">    </span><span class="nt">feature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hourofweek</span><span class="w">    </span><span class="c1"># name of the feature </span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">categorical</span><span class="w"></span>
<span class="w">    </span><span class="nt">max_n_categories</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span><span class="w">   </span><span class="c1"># lump together 168 categories into 60 by target similarity</span><span class="w"></span>
<span class="w">    </span><span class="nt">encode_as</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">onehot</span><span class="w"> </span>
<span class="w">    </span>
<span class="w">  </span><span class="nt">flex_temperature</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">feature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">temperature</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spline</span><span class="w"></span>
<span class="w">    </span><span class="nt">n_knots</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">    </span><span class="nt">degree</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">    </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uniform</span><span class="w"> </span>
<span class="w">    </span><span class="nt">extrapolation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">constant</span><span class="w"></span>
<span class="w">    </span><span class="nt">interaction_only</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"> </span><span class="c1"># do not include it in main effects</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="interactions">
<h3>3. Interactions<a class="headerlink" href="#interactions" title="Permalink to this headline">#</a></h3>
<p>Interactions can introduce new regressors, reuse regressors already defined in the regressors section, as well as alter the parameters of regressors that are already defined in the regressors section. Interactions are always pairwise and always between encoders (and not features).</p>
<p>This functionality too is provided by <a class="reference external" href="https://feature-encoders.readthedocs.io/en/latest/Tutorial_Interactions.html"><code class="docutils literal notranslate"><span class="pre">feature-encoders</span></code></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">interactions</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">tow, flex_temperature</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">tow</span><span class="p">:</span><span class="w"> </span><span class="c1"># update the parameters of the tow encoder</span><span class="w"></span>
<span class="w">      </span><span class="nt">max_n_categories</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"> </span>
<span class="w">      </span><span class="nt">stratify_by</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">temperature</span><span class="w"> </span>
<span class="w">      </span><span class="nt">min_samples_leaf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span><span class="w"> </span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">eensight</span></code> gets the information on model configurations using an approach similar to the one below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>config_loader = OmegaConfigLoader(conf_paths=[feature_path, base_path], 
                                  globals_pattern=&quot;globals*&quot;
)

selected_model = &quot;towt&quot;

conf_model = config_loader.get(
    f&quot;base_models/{selected_model}.*&quot;,
    f&quot;base_models/{selected_model}/**&quot;,
    f&quot;**/base_models/{selected_model}.*&quot;,
)

print(json.dumps(conf_model, indent=4))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
    &quot;add_features&quot;: {
        &quot;time&quot;: {
            &quot;type&quot;: &quot;datetime&quot;,
            &quot;subset&quot;: &quot;month, hourofweek&quot;
        }
    },
    &quot;regressors&quot;: {
        &quot;month&quot;: {
            &quot;feature&quot;: &quot;month&quot;,
            &quot;type&quot;: &quot;categorical&quot;,
            &quot;encode_as&quot;: &quot;onehot&quot;
        },
        &quot;tow&quot;: {
            &quot;feature&quot;: &quot;hourofweek&quot;,
            &quot;type&quot;: &quot;categorical&quot;,
            &quot;encode_as&quot;: &quot;onehot&quot;
        },
        &quot;lin_temperature&quot;: {
            &quot;feature&quot;: &quot;temperature&quot;,
            &quot;type&quot;: &quot;linear&quot;
        },
        &quot;flex_temperature&quot;: {
            &quot;feature&quot;: &quot;temperature&quot;,
            &quot;type&quot;: &quot;spline&quot;,
            &quot;n_knots&quot;: 5,
            &quot;degree&quot;: 1,
            &quot;strategy&quot;: &quot;uniform&quot;,
            &quot;extrapolation&quot;: &quot;constant&quot;,
            &quot;interaction_only&quot;: true
        }
    },
    &quot;interactions&quot;: {
        &quot;tow, flex_temperature&quot;: {
            &quot;tow&quot;: {
                &quot;max_n_categories&quot;: 2,
                &quot;stratify_by&quot;: &quot;temperature&quot;,
                &quot;min_samples_leaf&quot;: 15
            }
        }
    }
}
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="parameter-values">
<h2>Parameter values<a class="headerlink" href="#parameter-values" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">eensight</span></code> pipelines get their parameter settings from YAML files in the <em>conf/base/parameters</em> directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>conf
│   README.md 
│
└───base
│   │   globals.yaml
│   │   logging.yaml
│   │
│   └── parameters
│       ├── preprocess.yaml
│       ├── ...
   
</pre></div>
</div>
<p>Parameters are accessed and treated exactly as prescribed by the Kedro documentation: <a class="reference external" href="https://kedro.readthedocs.io/en/stable/04_kedro_project_setup/02_configuration.html#parameters">https://kedro.readthedocs.io/en/stable/04_kedro_project_setup/02_configuration.html#parameters</a></p>
<p><code class="docutils literal notranslate"><span class="pre">eensight</span></code> gets the information for parameters using an approach similar to the one below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>config_loader = OmegaConfigLoader(conf_paths=[feature_path, base_path], 
                                  globals_pattern=&quot;globals*&quot;
)

# we merge all YAML files under conf/base/parameters
params = config_loader.get(
    &quot;parameters*&quot;, &quot;parameters*/**&quot;, &quot;**/parameters*&quot;
)

pp = pprint.PrettyPrinter(indent=2)
pp.pprint(list(params.keys()))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[ &#39;of_optimize_model&#39;,
  &#39;of_apply_compare&#39;,
  &#39;of_prepare_data&#39;,
  &#39;of_find_prototypes&#39;,
  &#39;of_distance_learning&#39;,
  &#39;daytyping_window&#39;,
  &#39;of_apply_predict&#39;,
  &#39;of_drift_detection&#39;,
  &#39;find_outliers_for&#39;,
  &#39;of_global_filter&#39;,
  &#39;of_seasonal_decompose&#39;,
  &#39;of_global_outlier&#39;,
  &#39;of_local_outlier&#39;,
  &#39;of_linear_impute&#39;,
  &#39;max_missing_pct&#39;,
  &#39;max_outlier_pct&#39;,
  &#39;of_cross_validate&#39;,
  &#39;of_conformal_predictor&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="putting-it-all-together">
<h2>Putting it all together<a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">load_catalog</span></code> is a utility function that loads a data catalog in the same way that <code class="docutils literal notranslate"><span class="pre">eensight.framework.context.CustomContext</span></code> does it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>catalog = load_catalog(&quot;demo&quot;, partial_catalog=True, base_model=&quot;towt&quot;)
</pre></div>
</div>
</div>
</div>
<p>The catalog includes data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>pp.pprint([item for item in catalog.list() if &quot;model_prediction&quot; in item])
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;train.model_prediction&#39;, &#39;apply.model_prediction&#39;]
</pre></div>
</div>
</div>
</div>
<p>… information about the feature generators:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(json.dumps(catalog.load(&quot;feature_map&quot;), indent=4))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-11-21 16:23:46,077 - kedro.io.data_catalog - INFO - Loading data from `feature_map` (MemoryDataSet)...
{
    &quot;trend&quot;: {
        &quot;validate&quot;: &quot;validate.TrendSchema&quot;,
        &quot;generate&quot;: &quot;generate.TrendFeatures&quot;
    },
    &quot;datetime&quot;: {
        &quot;validate&quot;: &quot;validate.DatetimeSchema&quot;,
        &quot;generate&quot;: &quot;generate.DatetimeFeatures&quot;
    },
    &quot;cyclical&quot;: {
        &quot;validate&quot;: &quot;validate.CyclicalSchema&quot;,
        &quot;generate&quot;: &quot;generate.CyclicalFeatures&quot;
    },
    &quot;holidays&quot;: {
        &quot;validate&quot;: &quot;eensight.features.HolidaySchema&quot;,
        &quot;generate&quot;: &quot;eensight.features.HolidayFeatures&quot;
    },
    &quot;occupancy&quot;: {
        &quot;validate&quot;: &quot;eensight.features.OccupancySchema&quot;,
        &quot;generate&quot;: &quot;eensight.features.OccupancyFeatures&quot;
    }
}
</pre></div>
</div>
</div>
</div>
<p>… the selected model configuration:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(json.dumps(catalog.load(&quot;model_config&quot;), indent=4))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-11-21 16:23:48,959 - kedro.io.data_catalog - INFO - Loading data from `model_config` (MemoryDataSet)...
{
    &quot;add_features&quot;: {
        &quot;time&quot;: {
            &quot;type&quot;: &quot;datetime&quot;,
            &quot;subset&quot;: &quot;month, hourofweek&quot;
        }
    },
    &quot;regressors&quot;: {
        &quot;month&quot;: {
            &quot;feature&quot;: &quot;month&quot;,
            &quot;type&quot;: &quot;categorical&quot;,
            &quot;encode_as&quot;: &quot;onehot&quot;
        },
        &quot;tow&quot;: {
            &quot;feature&quot;: &quot;hourofweek&quot;,
            &quot;type&quot;: &quot;categorical&quot;,
            &quot;encode_as&quot;: &quot;onehot&quot;
        },
        &quot;lin_temperature&quot;: {
            &quot;feature&quot;: &quot;temperature&quot;,
            &quot;type&quot;: &quot;linear&quot;
        },
        &quot;flex_temperature&quot;: {
            &quot;feature&quot;: &quot;temperature&quot;,
            &quot;type&quot;: &quot;spline&quot;,
            &quot;n_knots&quot;: 5,
            &quot;degree&quot;: 1,
            &quot;strategy&quot;: &quot;uniform&quot;,
            &quot;extrapolation&quot;: &quot;constant&quot;,
            &quot;interaction_only&quot;: true
        }
    },
    &quot;interactions&quot;: {
        &quot;tow, flex_temperature&quot;: {
            &quot;tow&quot;: {
                &quot;max_n_categories&quot;: 2,
                &quot;stratify_by&quot;: &quot;temperature&quot;,
                &quot;min_samples_leaf&quot;: 15
            }
        }
    }
}
</pre></div>
</div>
</div>
</div>
<p>… and all the parameters:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>pp.pprint(list(catalog.load(&quot;parameters&quot;).keys()))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-11-21 16:23:54,022 - kedro.io.data_catalog - INFO - Loading data from `parameters` (MemoryDataSet)...
[ &#39;of_optimize_model&#39;,
  &#39;of_apply_compare&#39;,
  &#39;of_prepare_data&#39;,
  &#39;of_find_prototypes&#39;,
  &#39;of_distance_learning&#39;,
  &#39;daytyping_window&#39;,
  &#39;of_apply_predict&#39;,
  &#39;of_drift_detection&#39;,
  &#39;find_outliers_for&#39;,
  &#39;of_global_filter&#39;,
  &#39;of_seasonal_decompose&#39;,
  &#39;of_global_outlier&#39;,
  &#39;of_local_outlier&#39;,
  &#39;of_linear_impute&#39;,
  &#39;max_missing_pct&#39;,
  &#39;max_outlier_pct&#39;,
  &#39;of_cross_validate&#39;,
  &#39;of_conformal_predictor&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="run-command-arguments">
<h2>Run command arguments<a class="headerlink" href="#run-command-arguments" title="Permalink to this headline">#</a></h2>
<p>The primary way of using <code class="docutils literal notranslate"><span class="pre">eensight</span></code> is through the command line: <code>python -m eensight run </code></p>
<p>It is <a class="reference external" href="https://click.palletsprojects.com/">Click</a>-based, so -h and –help commands can provide information about the expected usage.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Option</p></th>
<th class="text-align:left head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>catalog</p></td>
<td class="text-align:left"><p>The name of the catalog configuration file to load.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>partial-catalog</p></td>
<td class="text-align:left"><p>Whether the catalog includes information only about the raw input data</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>base-model</p></td>
<td class="text-align:left"><p>The name of the base model configuration file to load</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>pipeline</p></td>
<td class="text-align:left"><p>The name of the modular pipeline to run</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>runner</p></td>
<td class="text-align:left"><p>The runner that you want to run the pipeline with</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>parallel</p></td>
<td class="text-align:left"><p>Flag to run the pipeline using the <code class="docutils literal notranslate"><span class="pre">ParallelRunner</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>async</p></td>
<td class="text-align:left"><p>If load and save node inputs and outputs should be done asynchronously with threads</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>env</p></td>
<td class="text-align:left"><p>Kedro configuration environment name</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>from-inputs</p></td>
<td class="text-align:left"><p>A list of dataset names which should be used as a starting point</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>to-outputs</p></td>
<td class="text-align:left"><p>A list of dataset names which should be used as an end point</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>from-nodes</p></td>
<td class="text-align:left"><p>A list of node (pipeline step) names which should be used as a starting point</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>to-nodes</p></td>
<td class="text-align:left"><p>A list of node names which should be used as an end point</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>nodes</p></td>
<td class="text-align:left"><p>A list with node names. The <code class="docutils literal notranslate"><span class="pre">run</span></code> function will run only these nodes</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>tags</p></td>
<td class="text-align:left"><p>List of tags. Construct a pipeline from nodes having any of these tags</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>load-versions</p></td>
<td class="text-align:left"><p>A mapping between dataset names and versions to load</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>params</p></td>
<td class="text-align:left"><p>These values will override the values in the <code class="docutils literal notranslate"><span class="pre">parameters</span></code> configuration files</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>run-config</p></td>
<td class="text-align:left"><p>A YAML configuration file to load the missing (if any) <code class="docutils literal notranslate"><span class="pre">run</span></code> command arguments from.</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters\03"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Ani Adhikari and John DeNero and David Wagner<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>